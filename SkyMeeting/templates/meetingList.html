{% extends 'base.html'%}
{% load i18n %}

{%block title%}SkyMeeting{%endblock%}

{%block cssfile%}
<link rel="stylesheet" type="text/css" href="../public/css/specific/meetingList.css">
{%endblock%}

{%block content%}
<div class="container">
	<h3>{% trans "My Meetings" %}</h3>
	<div class="row-fluid">
		<div class="span3">
			<label for="meetingTypeSct">{% trans "Choose your meeting type" %}...</label>
			<select id="meetingTypeSct" size="1">
				<option value="-1">{% trans "All" %}</option>
				<option value="1" {% if type == 1 or type == "1" %}selected="selected"{% endif %}>{% trans "Formal meeting" %}</option>
				<option value="2" {% if type == 2 or type == "2" %}selected="selected"{% endif %}>{% trans "Informal meeting" %}</option>
				<option value="0" {% if type == 0 or type == "0" %}selected="selected"{% endif %}>{% trans "Others" %}</option>
			</select>
			<!-- static meeting type??? -->
		</div>
		<div class="pull-right">
			<label for="meetingAdSct">{% trans "Choose" %}...</label>
			<select id="meetingAdSct" size="1">
				<option value="0">{% trans "Meetings I attended" %}</option>
				<option value="1" {% if ad == 1 or ad == "1" %}selected="selected"{% endif %}>{% trans "Meetings I created" %}</option>
			</select>
		</div>
	</div>



	<table class="table table-striped table-bordered table-hover" id="meetingTable">
		<thead>
			<tr role="row">
				<th class="span4">{% trans "Meeting name" %}</th>
				<th>{% trans "Meeting type" %}</th>
				<th>{% trans "Start time" %}</th>
				<th class="span2">{% trans "Location" %}</th>
				<th>{% trans "Created by" %} / {% trans "date" %}</th>
				<th>{% trans "Status" %}</th>
				<!-- <th>{% trans "Attachment" %}</th> -->
				{% if ad == 1 or ad == "1" %}
				<th>{% trans "OP" %}</th>
				{% endif %}
			</tr>
		</thead>
		<tbody>
			{% for meeting in meetingData %}
			<tr>
				<td><a href="../meeting/?mid={{ meeting.mid }}" target="_blank">{{ meeting.mtitle }}</a></td>
				<td>
					{% if meeting.mtype == 1 %}
						{% trans "Formal meeting" %}
					{% elif meeting.mtype == 2 %}
						{% trans "Informal meeting" %}
					{% else %}
						{% trans "Unknown" %}
					{% endif %}
				</td>
				<td>{{ meeting.mstart }}</td>
				<td>{{ meeting.mplace }}</td>
				<td>{{ meeting.muser.name }} / {{ meeting.mcreate }}</td>
				<td>
					<span class="label label-info">{% trans "Active" %}</span>
				</td>
				<!-- <td>
					<img src="../public/img/attachment_24x24.png" />
				</td> -->
				{% if ad == 1 or ad == "1" %}
				<td>
					<a href="../editmeeting/?mid={{ meeting.mid }}" class="image-link" title="{% trans 'Edit meeting' %}">
						<i class="icon-edit"></i>
					</a>
					<a href="javascript:void(0);" class="image-link" title="{% trans 'Delete meeting' %}">
						<i class="icon-trash"></i>
					</a>
				</td>
				<input type="hidden" data-mid="{{ meeting.mid }}" data-title="{{ meeting.mtitle }}" />
				{% endif %}
			</tr>
			{% endfor %}
		</tbody>
	</table>



	<div class="row-fluid new-item-row">
		<a href="../newmeeting/">+&nbsp;{% trans "Create new meeting" %}</a>
	</div>
	<div class="row-fluid pagination-row">
		<div class="pagination">
		  <ul>
		    <li class="prev disabled"><a href="javascript:void(0);">← {% trans "Previous" %}</a></li>
		    <li class="active"><a href="javascript:void(0);">1</a></li>
		    <li><a href="javascript:void(0);">2</a></li>
		    <li><a href="javascript:void(0);">3</a></li>
		    <li><a href="javascript:void(0);">4</a></li>
		    <li><a href="javascript:void(0);">5</a></li>
		    <li class="next"><a href="javascript:void(0);">{% trans "Next" %} → </a></li>
		  </ul>
		</div>
	</div>
</div>
{%endblock%}

{%block morestatic%}
<script type="text/javascript" src="../public/js/specific/meetingList.js"></script>
{%endblock%}
